<div class="tabs">
  <button (click)="switchForm('login')" type="button" class="tabs__tab login-page__button">Sign in</button>
  <button (click)="switchForm('signup')" type="button" class="tabs__tab login-page__button">Sign up</button>
</div>

<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-page__field">

  <input type="email"
         class="login__input"
         placeholder="Email"
         autocomplete="false"
         formControlName="email"
  >
  <div class="input-error" *ngIf="email.invalid && (email.dirty || email.touched)">
    <div *ngIf="email.errors['required']">
      Email is required.
    </div>
    <div *ngIf="email.errors['emailInvalid'] && email.value.length > 0 && email.touched">
      Email is unacceptable.
    </div>
  </div>

  <fieldset formGroupName="passwordGroup">

    <input class="login__input"
           type="password"
           placeholder="Password"
           formControlName="password"
    >
    <div class="input-error" *ngIf="password.invalid && (password.dirty || password.touched)">
      <div *ngIf="password.errors['required']">
        Password is required.
      </div>
      <div *ngIf="!!password.errors['minlength'] && password.touched">
        Password is too short.
      </div>
    </div>

    <div *ngIf="!alreadyRegistered">
      <input class="login__input"
             type="password"
             placeholder="Confirm Password"
             formControlName="passwordConfirm"
      >
      <div class="input-error" *ngIf="passwordConfirm.dirty || passwordConfirm.touched">
        <div *ngIf="password.touched && passwordGroup.errors && password.valid && passwordConfirm.touched">
          Passwords are different
        </div>
      </div>
    </div>
  </fieldset>

  <button type="submit" class="login__submit login-page__button"
    [disabled]="loginForm.status === 'INVALID'"
  >{{submitButtonText}}</button>

</form>
